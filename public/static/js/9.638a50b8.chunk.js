(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[9],{180:function(e,t,n){"use strict";var i=n(0),c=n(15),r=n.n(c),a=n(67),s=n(94),o=n(257),l=n(261),u=n(262),d=n(259),j=n(263),b=n(255),h=n(240),p=n(5),x=n(265),O=n(4),m=function(e){return Object(O.jsxs)(d.a,Object(p.a)(Object(p.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(O.jsx)(x.a,{color:"inherit",href:"/",children:"Share Movies"})," ",(new Date).getFullYear(),"."]}))},f=i.memo(m),v=n(21),g=n(266),y=Object(v.a)(g.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(p.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})})),w=n(264),S=n(186),k=n.n(S),z=n(41),_=n(68),C=n(254),I=n(253),P=n(8),L=Object(s.a)(),M=function(e){var t=Object(z.c)((function(e){return e.commons.loading})),n=Object(z.c)((function(e){return e.users.currentUser})),c=Object(z.c)((function(e){return e.users.isLoggingIn})),r=Object(z.b)(),s=Object(P.f)();Object(i.useEffect)((function(){r(_.a.users.userMe())}),[r]);return Object(O.jsxs)(o.a,{theme:L,children:[Object(O.jsx)(h.a,{}),Object(O.jsx)(y,{children:Object(O.jsxs)(u.a,{children:[Object(O.jsx)(k.a,{sx:{mr:2}}),Object(O.jsx)(d.a,{variant:"h6",component:a.b,to:"/",color:"inherit",noWrap:!0,style:{flex:1},children:"Share Movies"}),c?Object(O.jsxs)(l.a,{className:"header-login",children:[Object(O.jsxs)(d.a,{sx:{mr:2},children:["hi ",n.email]}),Object(O.jsx)(C.a,{variant:"contained",disableElevation:!0,color:"error",onClick:function(){return s.push("/share/add")},children:"Share Movie"})," | ",Object(O.jsx)(C.a,{variant:"text",onClick:function(){r(_.a.users.userLogout({}))},style:{color:"#fff"},children:"Logout"})]}):Object(O.jsxs)(l.a,{className:"header-login",children:[Object(O.jsx)(d.a,{component:a.b,to:"/login",variant:"login",children:"Login"})," | ",Object(O.jsx)(d.a,{component:a.b,to:"/register",variant:"register",children:"Register"})]})]})}),Object(O.jsx)(l.a,{sx:{display:"flex"},children:Object(O.jsxs)(j.a,{children:[Object(O.jsx)(b.a,{container:!0,sx:{mt:8},className:"container-height",children:e.children}),Object(O.jsx)(f,{sx:{pt:4}})]})}),t?Object(O.jsx)(I.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:!0,children:Object(O.jsx)(w.a,{color:"inherit"})}):null]})};M.props={title:r.a.string};t.a=M},258:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n(180),r=n(255),a=n(260),s=n(12),o=n.n(s),l=n(28),u=n(66),d=n(5),j=n(68),b=n(41),h=n(8),p=n(251),x=n(259),O=n(31),m=n(213),f=n.n(m),v=n(214),g=n.n(v),y=n(215),w=n.n(y),S=n(82),k=n(4),z=function(){var e=Object(S.b)(window.location.search),t=Object(i.useMemo)((function(){return Object(d.a)({sort:{timestamp:-1},itemPerPage:5},e)}),[e]),n=Object(i.useState)({}),c=Object(u.a)(n,2),a=c[0],s=c[1],m=Object(b.b)(),v=Object(h.f)(),y=Object(b.c)((function(e){return e.shares.data})),z=Object(b.c)((function(e){return e.shares.params})),_=Object(b.c)((function(e){return e.shares.startParams})),C=Math.ceil((z&&z.total?z.total:y?y.length:0)/t.itemPerPage);Object(i.useEffect)((function(){return function(){return m(j.a.shares.setStart())}}),[]),Object(i.useEffect)((function(){if(_){var e=Object(d.a)(Object(d.a)({},t),{},{loading:!0});m(j.a.shares.shareList(e))}}),[z,t,m,_]),Object(i.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y){e.next=6;break}return t=y.map((function(e){return e.youtube_code})),e.next=4,Object(O.c)(t);case 4:n=e.sent,s(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[y,s]);return Object(k.jsxs)(k.Fragment,{children:[y?y.map((function(e,t){var n,i,c,s,o,l,u;return Object(k.jsxs)(r.a,{container:!0,spacing:2,sx:{mt:1},children:[Object(k.jsx)(r.a,{item:!0,xs:!0,sm:!0,container:!0,children:Object(k.jsx)("iframe",{width:"100%",height:"315",src:"https://www.youtube.com/embed/".concat(e.youtube_code),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),Object(k.jsx)(r.a,{item:!0,xs:12,sm:!0,container:!0,children:Object(k.jsx)(r.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2,children:Object(k.jsxs)(r.a,{item:!0,xs:!0,children:[Object(k.jsx)(x.a,{gutterBottom:!0,variant:"title",component:"h4",color:"#e91e63",children:(null===a||void 0===a?void 0:a.snippet)?null===(n=a.snippet[e.youtube_code])||void 0===n?void 0:n.title:""}),Object(k.jsxs)(x.a,{gutterBottom:!0,variant:"title",component:"h5",children:["shared by: ",null===(i=e.User)||void 0===i?void 0:i.email]}),Object(k.jsxs)(x.a,{gutterBottom:!0,variant:"icon",component:"div",fontSize:"small",children:[Object(k.jsx)(f.a,{fontSize:"small",style:{verticalAlign:"sub"}})," ",(null===a||void 0===a?void 0:a.statistics)?null===(c=a.statistics[e.youtube_code])||void 0===c?void 0:c.likeCount:0,Object(k.jsx)(g.a,{fontSize:"small",sx:{ml:2},style:{verticalAlign:"sub"}})," ",(null===a||void 0===a?void 0:a.statistics)?null===(s=a.statistics[e.youtube_code])||void 0===s?void 0:s.dislikeCount:0,Object(k.jsx)(w.a,{fontSize:"small",sx:{ml:2},style:{verticalAlign:"sub"}})," ",(null===a||void 0===a?void 0:a.statistics)?null===(o=a.statistics[e.youtube_code])||void 0===o?void 0:o.commentCount:0]}),Object(k.jsx)(x.a,{variant:"description",component:"div",title:(null===a||void 0===a?void 0:a.snippet)?null===(l=a.snippet[e.youtube_code])||void 0===l?void 0:l.description:"",style:{overflow:"hidden",maxHeight:"220px"},children:(null===a||void 0===a?void 0:a.snippet)?null===(u=a.snippet[e.youtube_code])||void 0===u?void 0:u.description:""})]})})})]},t)})):null,C>1?Object(k.jsx)(p.a,{count:C,page:z.page?parseInt(z.page):1,sx:{mt:2},onChange:function(e,t){return function(e,t){var n=parseInt(t)+1;z.page!==n&&m(j.a.shares.setParams(Object(d.a)(Object(d.a)({},z),{},{page:n}),v))}(0,t-1)}}):null]})};t.default=function(){return Object(k.jsx)(c.a,{children:Object(k.jsx)(r.a,{item:!0,xs:12,children:Object(k.jsx)(a.a,{sx:{p:1,display:"flex",flexDirection:"column"},children:Object(k.jsx)(z,{})})})})}}}]);
//# sourceMappingURL=9.638a50b8.chunk.js.map