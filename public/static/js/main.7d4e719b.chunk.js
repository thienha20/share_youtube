(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[2],{105:function(t,e,n){},137:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(24),c=n.n(o),i=(n(105),n(5)),s=n(67),u=n(8),l=n(18),d=n(41),p=n(55),f=n(68),g=[],h=function(){var t=Object(d.b)(),e=Object(d.c)((function(t){return t.commons.notifications||[]})),n=Object(p.b)(),r=n.enqueueSnackbar,o=n.closeSnackbar;a.useEffect((function(){e.forEach((function(e){var n,a=e.key,c=e.message,s=e.options,u=void 0===s?{anchorOrigin:{vertical:"top",horizontal:"right"}}:s,d=e.dismissed;void 0!==d&&d?o(a):g.includes(a)||(r(c,Object(i.a)(Object(i.a)({key:a},u),{},{onClose:function(t,e,n){u.onClose&&u.onClose(t,e,n)},onExited:function(e,n){var a;t(f.a.commons.closeMessage(n)),a=n,g=Object(l.a)(g.filter((function(t){return a!==t})))}})),n=a,g=[].concat(Object(l.a)(g),[n]))}))}),[e,o,r,t])},O=n(171),b=n(175),m=n(4),v=Object(O.a)((function(t){return{root:{position:"fixed",top:0,left:0,zIndex:1301,width:"100%","& > * + *":{marginTop:"10px"}}}})),j=function(){var t=v();return Object(m.jsx)("div",{className:t.root,children:Object(m.jsx)(b.a,{color:"primary"})})},y=function(t){return function(e){return Object(m.jsx)(a.Suspense,{fallback:Object(m.jsx)(j,{}),children:Object(m.jsx)(t,Object(i.a)({},e))})}},E=y(Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(5)]).then(n.bind(null,238))}))),S=y(Object(a.lazy)((function(){return n.e(10).then(n.bind(null,245))}))),R=y(Object(a.lazy)((function(){return n.e(11).then(n.bind(null,246))}))),A=[{path:"/",title:"Home Page",component:y(Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(8),n.e(9)]).then(n.bind(null,258))})))},{path:"/register",title:"Register",component:y(Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(7)]).then(n.bind(null,247))})))},{path:"/login",title:"Login",component:E},{path:"/404",title:"Page not found",component:S},{path:"/500",title:"Internal Server Error",component:R}],L=[{path:"/share/add",title:"Share Video",component:y(Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(6)]).then(n.bind(null,248))})))}],_=[].concat(Object(l.a)(L),Object(l.a)(A));var w=function(){return h(),Object(m.jsx)(s.a,{children:Object(m.jsx)(u.c,{children:_.map((function(t,e){return Object(m.jsx)(u.a,{path:t.path,exact:!0,name:t.title,render:function(e){return Object(m.jsx)(t.component,Object(i.a)({},e))}},e)}))})})},x=function(t){t&&t instanceof Function&&n.e(12).then(n.bind(null,249)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,o=e.getLCP,c=e.getTTFB;n(t),a(t),r(t),o(t),c(t)}))},I=n(26),M=n(6),T={loading:!1,notifications:[]},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case M.a.OPEN_LOADING:return Object(i.a)(Object(i.a)({},t),{},{loading:!0});case M.a.CLOSE_LOADING:return Object(i.a)(Object(i.a)({},t),{},{loading:!1});case M.a.SHOW_MESSAGE:var n=[];return Object(i.a)(Object(i.a)({},t),{},{notifications:n.concat(t.notifications,e.payload)});case M.a.REMOVE_MESSAGE:return Object(i.a)(Object(i.a)({},t),{},{notifications:t.notifications.filter((function(t){return t.key!==e.payload}))});default:return t}},k=n(46),D=n(53),U=n.n(D),P={currentUser:null,isLoggingIn:!1},N={key:"user",storage:U.a,blacklist:["isLoggingIn"]},z=Object(k.a)(N,(function(){var t,e,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case M.a.USER_LOGIN:return Object(i.a)(Object(i.a)({},a),{},{currentUser:null!==(t=r.payload)&&void 0!==t?t:null,isLoggingIn:!!r.payload.user_id});case M.a.USER_REGISTER:return Object(i.a)({},a);case M.a.USER_LOGOUT:return Object(i.a)(Object(i.a)({},a),{},{currentUser:null,isLoggingIn:!1});case M.a.USER_ME:return Object(i.a)(Object(i.a)({},a),{},{currentUser:null!==(e=r.payload)&&void 0!==e?e:null,isLoggingIn:!!(null===(n=r.payload)||void 0===n?void 0:n.user_id)});default:return a}})),H=n(82),C={data:null,params:{page:1,sort:{timestamp:1}},startParams:!0},V=function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case M.a.SHARE_ADD:return Object(i.a)({},n);case M.a.SHARE_START:return Object(i.a)(Object(i.a)({},n),{},{startParams:!0});case M.a.SHARE_VIDEO_LISTING:return Object(i.a)(Object(i.a)({},n),{},{data:null!==(t=a.payload[0])&&void 0!==t?t:[],params:null!==(e=a.payload[1])&&void 0!==e?e:n.params,startParams:!1});case M.a.SHARE_PARAMS:var r=Object(i.a)(Object(i.a)({},n),{},{params:a.payload,startParams:!0});if(a.history&&"object"===typeof a.history){var o=Object(i.a)({},r.params);delete o.total,delete o.loading,a.history.push({search:Object(H.a)(o)})}return r;default:return n}},W={commons:G,users:z,shares:V},F=Object(I.combineReducers)(Object(i.a)({},W)),B=n(91),J=n.n(B),X=n(93),Z=n(92),q={key:"root",storage:U.a,stateReconciler:J.a,whitelist:["user"]},K=Object(k.a)(q,F),Q=Object(I.createStore)(K,Object(Z.composeWithDevTools)(Object(I.applyMiddleware)(X.a))),Y={store:Q,persistor:Object(k.b)(Q)},$=n(170);c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(d.a,{store:Y.store,children:Object(m.jsx)(p.a,{children:Object(m.jsx)($.a,{children:Object(m.jsx)(w,{})})})})}),document.getElementById("root")),x()},31:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return f}));var a=n(12),r=n.n(a),o=n(89),c=n(28),i=n(47),s=n.n(i),u="http://localhost:4000/api/v1/",l="AIzaSyDgC_429mOIWC-bzaNWZhXFZ4fyX95gEh0",d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t=u+t;var a="";if(e)for(var r in e)if("object"===typeof e[r])for(var o in e[r])a+="".concat(r,"[").concat(o,"]=").concat(e[r][o],"&");else a+="".concat(r,"=").concat(e[r],"&");return""!==a&&(a=a.substr(0,a.length-1)),t.indexOf("?")>-1?t+="&"+a:t+="?"+a,s.a.get(t).then((function(t){return n&&"function"===typeof n&&n(t),t.data})).catch((function(t){return console.log(t),!1}))},p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t=u+t;var a={};return s.a.post(t,e,a).then((function(t){return n&&"function"===typeof n&&n(t),t.data})).catch((function(t){return console.log(t),!1}))},f=function(){var t=Object(c.a)(r.a.mark((function t(e){var n,a,c,i,u,d,p,f,g,h,O;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n="https://www.googleapis.com/youtube/v3/videos?part=statistics&key=".concat(l),a="https://www.googleapis.com/youtube/v3/videos?part=snippet&key=".concat(l),c={statistics:{},snippet:{}},i=Object(o.a)(e);try{for(i.s();!(u=i.n()).done;)d=u.value,n+="&id=".concat(d),a+="&id=".concat(d)}catch(r){i.e(r)}finally{i.f()}return t.next=7,s.a.get(n).then((function(t){return t.data.items}));case 7:return p=t.sent,t.next=10,s.a.get(a).then((function(t){return t.data.items}));case 10:for(g in f=t.sent,p)c.statistics[p[g].id]=p[g].statistics;for(h in f)c.snippet[f[h].id]=null===(O=f[h].snippet)||void 0===O?void 0:O.localized;return t.abrupt("return",c);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},6:function(t,e,n){"use strict";var a={};n.r(a),n.d(a,"OPEN_LOADING",(function(){return i})),n.d(a,"CLOSE_LOADING",(function(){return s})),n.d(a,"SHOW_MESSAGE",(function(){return u})),n.d(a,"REMOVE_MESSAGE",(function(){return l}));var r={};n.r(r),n.d(r,"USER_LOGIN",(function(){return d})),n.d(r,"USER_REGISTER",(function(){return p})),n.d(r,"USER_LOGOUT",(function(){return f})),n.d(r,"USER_ME",(function(){return g}));var o={};n.r(o),n.d(o,"SHARE_VIDEO_LISTING",(function(){return h})),n.d(o,"SHARE_ADD",(function(){return O})),n.d(o,"SHARE_PARAMS",(function(){return b})),n.d(o,"SHARE_START",(function(){return m}));var c=n(5),i="@loading/open",s="@loading/close",u="@message/open",l="@message/close",d="@users/LOGIN",p="@users/REGISTER",f="@users/LOGOUT",g="@users/ME",h="@share/VIDEOS_LISTING",O="@share/ADD",b="@share/PARAMS",m="@share/START",v=Object(c.a)(Object(c.a)(Object(c.a)({},a),r),o);e.a=v},68:function(t,e,n){"use strict";var a=n(6),r={closeLoading:function(){return{type:a.a.CLOSE_LOADING}},openLoading:function(){return{type:a.a.OPEN_LOADING}},showMessage:function(t){return{type:a.a.SHOW_MESSAGE,payload:t}},closeMessage:function(t){return{type:a.a.REMOVE_MESSAGE,payload:t}}},o=n(12),c=n.n(o),i=n(28),s=n(31),u={userLogin:function(t){return function(){var e=Object(i.a)(c.a.mark((function e(n){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading&&n(p.commons.openLoading()),e.next=3,Object(s.b)("login",t.user);case 3:return r=e.sent,t.loading&&n(p.commons.closeLoading()),o=[],r&&200!==r.status&&n(p.commons.showMessage({key:(new Date).getTime()+Math.random(),options:{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"}},message:r.message})),r&&r.data&&(o=r.data),e.abrupt("return",n({type:a.a.USER_LOGIN,payload:o}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},userLogout:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(){var e=Object(i.a)(c.a.mark((function e(n){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading&&n(p.commons.openLoading()),e.next=3,Object(s.b)("logout",{});case 3:return r=e.sent,t.loading&&n(p.commons.closeLoading()),o=[],r&&r.data&&(o=r.data),e.abrupt("return",n({type:a.a.USER_LOGOUT,payload:o}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},userRegister:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){var n=Object(i.a)(c.a.mark((function n(r){var o,i;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.loading&&r(p.commons.openLoading()),n.next=3,Object(s.b)("register",t.user);case 3:return o=n.sent,t.loading&&r(p.commons.closeLoading()),i=[],o&&200!==o.status&&r(p.commons.showMessage({key:(new Date).getTime()+Math.random(),options:{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"}},message:o.message})),o&&o.data&&(i=o.data,r(p.commons.showMessage({key:(new Date).getTime()+Math.random(),options:{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"}},message:o.message})),e&&e.push("/login")),n.abrupt("return",r({type:a.a.USER_REGISTER,payload:i}));case 9:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},userMe:function(){return function(){var t=Object(i.a)(c.a.mark((function t(e){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.b)("me");case 2:return n=t.sent,r=[],n&&n.data&&(r=n.data),t.abrupt("return",e({type:a.a.USER_ME,payload:r}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},l={shareAdd:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){var n=Object(i.a)(c.a.mark((function n(r){var o,i;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.loading&&r(p.commons.openLoading()),n.next=3,Object(s.b)("share/add",t.share);case 3:return o=n.sent,t.loading&&r(p.commons.closeLoading()),i=[],o&&200!==o.status&&r(p.commons.showMessage({key:(new Date).getTime()+Math.random(),options:{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"}},message:o.message})),o&&o.data&&(i=o.data,r(p.commons.showMessage({key:(new Date).getTime()+Math.random(),options:{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"}},message:o.message})),e&&e.push("/")),n.abrupt("return",r({type:a.a.SHARE_ADD,payload:i}));case 9:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},shareList:function(t){return function(){var e=Object(i.a)(c.a.mark((function e(n){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading&&n(p.commons.openLoading()),e.next=3,Object(s.a)("shares",t);case 3:return r=e.sent,o=[],r&&r.data&&(o=r.data),t.loading&&n(p.commons.closeLoading()),e.abrupt("return",n({type:a.a.SHARE_VIDEO_LISTING,payload:o}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setParams:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:a.a.SHARE_PARAMS,payload:t,history:e}},setStart:function(){return{type:a.a.SHARE_START}}},d={commons:r,users:u,shares:l},p=e.a=d},82:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}));var a=function(t){return Object.keys(t).map((function(e){if(Array.isArray(t[e]))return e+"="+t[e].join(",");if(t[e]&&"object"===typeof t[e]){var n=t[e];return Object.keys(n).map((function(t){return"".concat(e,"[").concat(t,"]=").concat(n[t])})).join("&")}return e+"="+t[e]})).join("&")},r=function(t){t=t.substring(t.indexOf("?")+1);var e,n=/([^&=]+)=?([^&]*)/g,a=/\+/g,r=function(t){return decodeURIComponent(t.replace(a," "))},o={};for(e=n.exec(t);e;){var c=r(e[1]),i=r(e[2]);"[]"===c.substring(c.length-2)?(c=c.substring(0,c.length-2),(o[c]||(o[c]=[])).push(i)):o[c]=i,e=n.exec(t)}var s=function(t,e,n){for(var a=e.length-1,r=0;r<a;++r){var o=e[r];o in t||(t[o]={}),t=t[o]}t[e[a]]=n};for(var u in o){var l=u.split("[");l.length>1&&function(){var t=[];l.forEach((function(e,n){var a=e.replace(/[?[\]\\ ]/g,"");t.push(a)})),s(o,t,o[u]),delete o[u]}()}return o}}},[[137,3,4]]]);
//# sourceMappingURL=main.7d4e719b.chunk.js.map